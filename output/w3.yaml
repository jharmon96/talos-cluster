version: v1alpha1
debug: false
persist: true
machine:
  type: worker
  token: MACHINE_TOKEN_PLACEHOLDER
  ca:
    crt: MACHINE_CA_CRT_PLACEHOLDER
    key: ""
  certSANs:
  - 172.22.40.10
  - 172.22.40.11
  - 172.22.40.12
  - 172.22.40.13
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.33.0
    defaultRuntimeSeccompProfileEnabled: true
    disableManifestsDirectory: true
    extraArgs:
      rotate-server-certificates: "true"
  network:
    interfaces:
    - interface: ens18
      dhcp: false
      addresses:
      - 172.22.40.23/24
      routes:
      - network: 0.0.0.0/0
        gateway: 172.22.40.1
    nameservers:
    - 172.22.10.1
  install:
    disk: /dev/vda
    image: ghcr.io/siderolabs/installer:v1.10.2
    wipe: false
    extensions:
    - image: ghcr.io/siderolabs/qemu-guest-agent:9.2.0
    extraKernelArgs:
    - net.ifnames=0
  registries: {}
  features:
    rbac: true
    stableHostname: true
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
cluster:
  id: CLUSTER_ID_PLACEHOLDER
  secret: CLUSTER_SECRET_PLACEHOLDER
  controlPlane:
    endpoint: https://172.22.40.11:6443
  clusterName: my-k8s-cluster
  network:
    dnsDomain: cluster.local
    podSubnets:
    - 10.244.0.0/16
    serviceSubnets:
    - 10.96.0.0/12
  token: CLUSTER_TOKEN_PLACEHOLDER
  ca:
    crt: CLUSTER_CA_CRT_PLACEHOLDER
    key: ""
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: true
      service: {}